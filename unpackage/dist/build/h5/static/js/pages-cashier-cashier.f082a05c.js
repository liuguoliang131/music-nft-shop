(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cashier-cashier"],{"019c":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */.container[data-v-aacc298a]{padding:0}.container .box1[data-v-aacc298a]{height:%?400?%;text-align:center}.container .box1 .price[data-v-aacc298a]{padding-top:%?150?%;height:%?100?%;color:#d10910;line-height:%?100?%}.container .box1 .price .rmb[data-v-aacc298a]{font-size:%?44?%}.container .box1 .price .count[data-v-aacc298a]{font-size:%?58?%;font-weight:600}.container .box1 .time[data-v-aacc298a]{font-size:%?28?%;line-height:%?40?%;\n  /* identical to box height */text-align:center;color:#aeaeae}.container .box1 .time .time-count[data-v-aacc298a]{margin-left:%?8?%}.container .box2[data-v-aacc298a]{border-top:%?1?% solid #363636;overflow-y:scroll;height:%?800?%}.container .box2 .empty-cell[data-v-aacc298a]{height:%?240?%}.container .box2 .box2-item[data-v-aacc298a]{display:flex;align-items:center;height:%?100?%;padding:0 %?30?%;border-bottom:%?1?% solid #363636}.container .box2 .box2-item .icon[data-v-aacc298a]{width:%?54?%;height:%?54?%}.container .box2 .box2-item .text[data-v-aacc298a]{flex:1;margin-left:%?20?%;margin-right:%?20?%;font-size:%?30?%}.container .box2 .box2-item .text .text-1[data-v-aacc298a]{margin-left:%?40?%;font-size:%?20?%;color:#d10910}.container .box2 .box2-item .radio[data-v-aacc298a]{position:relative;width:%?44?%;height:%?44?%}.container .box2 .box2-item .radio .nocheck[data-v-aacc298a]{width:%?40?%;height:%?40?%;border-radius:%?22?%;border:%?2?% solid #363636}.container .box2 .box2-item .radio .checked[data-v-aacc298a]{position:absolute;top:%?0?%;left:%?0?%;width:%?44?%;height:%?44?%}.container .box3[data-v-aacc298a]{position:fixed;bottom:%?140?%;left:0;width:100%;text-align:center}.container .box3 .submit[data-v-aacc298a]{display:flex;align-items:center;justify-content:center;line-height:0;margin:auto;background:#d10910;border-radius:48px;height:%?96?%;width:%?474?%;font-weight:500;font-size:%?32?%}.container .box3 .submit[data-v-aacc298a]:active{background-color:rgba(209,9,16,.6);color:#868686}.container[data-v-aacc298a] .icon-close{font-size:%?36?%}.container[data-v-aacc298a] .wyb-popup-box{z-index:998!important}.container[data-v-aacc298a] .wyb-popup-mask{z-index:997!important}.container .popup-content[data-v-aacc298a]{padding:0;text-align:center}.container .popup-content .popup-content-title[data-v-aacc298a]{height:%?100?%;text-align:center;line-height:%?100?%;font-size:%?30?%;color:#000}.container .popup-content .password-content[data-v-aacc298a]{position:relative;margin:0 %?90?%}.container .popup-content .password-content .block[data-v-aacc298a]{display:flex;align-items:center}.container .popup-content .password-content .block .block-item[data-v-aacc298a]{box-sizing:border-box;border:%?1?% solid rgba(0,0,0,.05);background-color:rgba(0,0,0,.1);width:%?70?%;height:%?70?%;margin:0 %?12.5?%;border-radius:%?10?%}.container .popup-content .password-content .point[data-v-aacc298a]{width:100%;position:absolute;top:0;left:0;display:flex;align-items:center}.container .popup-content .password-content .point .point-item[data-v-aacc298a]{box-sizing:border-box;width:%?70?%;height:%?70?%;margin:0 %?12.5?%;display:flex;align-items:center;justify-content:center}.container .popup-content .password-content .point .point-item .point-item-center[data-v-aacc298a]{width:%?26?%;height:%?26?%;border-radius:%?13?%;background-color:#000}.container .popup-content .keyboard[data-v-aacc298a]{width:100%;padding-top:%?40?%;display:flex;align-content:center;justify-content:center;flex-wrap:wrap}.container .popup-content .keyboard .keyboard-button[data-v-aacc298a]{box-sizing:border-box;width:%?190?%;height:%?80?%;margin:%?20?%;border-radius:%?7?%;background-color:#fff;box-shadow:%?0?% %?0?% %?2?% %?3?% rgba(0,0,0,.1);display:flex;align-items:center;justify-content:center;font-size:%?36?%;font-weight:600;color:#363636}.container .popup-content .keyboard .keyboard-button[data-v-aacc298a]:active{background-color:rgba(0,0,0,.05);box-shadow:%?0?% %?0?% %?1?% %?1?% rgba(0,0,0,.2);color:rgba(0,0,0,.7)}.container .dialog-content[data-v-aacc298a]{position:relative;font-weight:600;font-size:%?32?%;line-height:%?44?%;color:rgba(0,0,0,.9);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}.container .dialog-content .dialog-text1[data-v-aacc298a]{padding-top:%?70?%;padding-bottom:%?20?%}.container .dialog-content .dialog-text2[data-v-aacc298a]{padding-bottom:%?70?%}.container .dialog-content .hideText[data-v-aacc298a]{visibility:hidden}.container .dialog-content .dialog-bottom[data-v-aacc298a]{display:flex;align-items:center;justify-content:center;line-height:0;margin:auto;background:#d10910;color:#fff;border-radius:0 0 %?16?% %?16?%;height:%?96?%;width:%?500?%;font-weight:500;font-size:%?32?%}.container .dialog-content .dialog-bottom[data-v-aacc298a]:active{background-color:rgba(209,9,16,.6);color:#868686}',""]),t.exports=e},"09c9":function(t,e,a){t.exports=a.p+"static/img/wx.c95ab56d.png"},"1fb6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVPSURBVHgB7Zs7d9NmGMf/kuP40pvmLjVTx8SfIKEfANKlS4ea06WdgKUbB+ewdWkywdKTMHQmsHQj5hPYgYkJszCLE0iMLxLP81oKsqy7XslSTn7nOLbeyLb08/O8N70CrrjCiYKc6Guaho9ooYJN2mypCjRTwXfiIEy8N0zo9HJoP9ojfYgcyUyEOPERdhQVW3Si21TUQjx0OrieaeLIAF5kLUa6iH5d264ouG9CnLw0LCmHGyP9MTJAmohXTe0+hXcH8X/5uAwprQ6nBh7LjJLUIjgC6MAOkL0AN0OY6MqKkMQiSECLUuBAdgokYEiReD1tdKhIQL+p7VAU9AsggeEW6A2nJlIQW8QJfaFq4gm91FAgKCq6LxvaP0hIrNTgL6IouIMio2BgrFOq6Loe720RednUDsx5q1B8EsiIlBoiEsoigTGxqY5xLDp1EQkVwXVC4dPBC5JRGSNynRGYGqJ1mFeMpYW653fb5/pe2H6+IrifQM3SMfLvKEnHmKLdnuiDoH3UgH90cQkkMOpaeFR7iqBo6FCs/IbLQ+ukrnWDdvBMjZOG9gaXJBoc6EYN1/ya1KWIENFQMgnPp5Mou2nqyL/1WxJBFWSqPnve/D05x93JRzycjMJ3VnDbr2+xIIKH1ChRNDyik/9v+mn+ejqKIsM3KlTXRgclgSU8nC6eOMt4PgtOE0XBllf5YmoouIkS4CWBuV6p4id6BMFTB1bkL3AhgnuRKNjQ2gtOBS8JPyoVPKg2o3wEn/S2R5mFWYhJlkCeTceicnTzPU2V/1v7Gt8o0QbTXumhOl5socC8Nme4NzlbKo8rgaH02HSXOeuITRQUlvD7pw9L5bYEfo6J1q9qC+crPqH/lVZYCe9MQ0g4pQkRJykkzKlgWQRmxawk/SRwGqSSMKfl3FC9CqPCB/rL6BSvjRlkY0vgZyeSJIDe/oNzO7EI+0BF/o4/SJXhJ4FhCdxUyiaRVveBcujKkiE+y0fCg/VmJhKYRCJOqQHix0KZBBlBEv6qNnCjso6sSCSCfxWvtjutDO4ncKq5+aNax69rNWSJLWKImMiWcW98hmOPARNL+HOtDtnw4hTntmr9jXVVyEaWDO42P5uNl8qzksBYK3QumIswMEBC0spwzik44VTISgJTMdB3bgsRaS+pJ5XhN5y+sbYuKscsmZl469x2VpaJo4KJKyNoTiHqcDoN7uscFyJ4wRZSElWGjDmFNFBF2XOXOecjjiCBMBk8ryhjTiENMwVP3WVfRNRFaiRqPdwEyXjkEQl5ShBMAyKCL3xQk/IUkvCT4Sb1cDo+Q6/roO5vP4REwmSsQAJXAV2v4oUjoGa0RyOIHiTiJ0PWcDomul+jsHQUlMbSV7a6ZaxIAkwFR359plwvAttzj1nNKYQQuB7T8yehN9xCBvDJ/1/7dhUSuG4IXLLsW6UPGtoT+ucOLgfDjXP9WtAOvklq1kRUSOlXrBpOibB9fEVY/YqfUXZM7EYZVAZW29yckoxdlJf9jZHejbJjpD5tv6HtkbHbKBMKBhtnejvq7pEa8va5fgcZ9C8yw1qCHOctkXs0FGId6pXto+gkXJQeq2vHkVHoOoOiNokEJtG411qazOucWygIUZca+5HqViZ66qqrXpjKqTDBrbAlxuEfkxJel2ktSWwhX3gkuZsmCpxImxLKUQh39PZpRm0vSV3gRxY3wHZocvQmjbCljlNoeqCn8F3BDRo8SRRgk90t0fM6ZJsf6nzxVgvx0OlacI/vAM7q5J3kNFt6ca+4uEHeevCXi8UaNGHyHvZN8nz5ka685X2T/BVXLPIZTySLghwvrNgAAAAASUVORK5CYII="},"209f":function(t,e,a){"use strict";a.r(e);var n=a("2169"),i=a("a982");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("f5f1");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"aacc298a",null,!1,n["a"],r);e["default"]=s.exports},2169:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={wybPopup:a("1754").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("cu-head"),n("v-uni-view",{staticClass:"box1"},[n("v-uni-view",{staticClass:"price"},[n("v-uni-text",{staticClass:"rmb"},[t._v("￥")]),n("v-uni-text",{staticClass:"count"},[t._v(t._s(t.order_price))])],1),n("v-uni-view",{staticClass:"time"},[n("v-uni-text",{staticClass:"time-text"},[t._v("剩余支付时间")]),n("v-uni-text",{staticClass:"time-count"},[t._v(t._s(t.displayTime))])],1)],1),n("v-uni-view",{staticClass:"box2"},[t._l(t.list,(function(e,i){return n("v-uni-view",{key:e.pay_id,staticClass:"box2-item"},[2===e.pay_id?n("v-uni-image",{staticClass:"icon",attrs:{src:a("09c9")}}):4===e.pay_id?n("v-uni-image",{staticClass:"icon",attrs:{src:a("ca22")}}):t._e(),n("v-uni-view",{staticClass:"text"},[t._v(t._s(e.pay_name)),4===e.pay_id?n("v-uni-text",{staticClass:"text-1"},[t._v("余额：￥"+t._s(t.myAmount.toFixed(2)))]):t._e()],1),n("v-uni-view",{staticClass:"radio",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handSelect(i)}}},[n("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"item.checked"}],staticClass:"checked",attrs:{src:a("1fb6")}}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!item.checked"}],staticClass:"nocheck"})],1)],1)})),n("v-uni-view",{staticClass:"empty-cell"})],2),n("v-uni-view",{staticClass:"box3"},[n("v-uni-view",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handPay()}}},[t._v("立即支付")])],1),n("wyb-popup",{ref:"popup",attrs:{type:"bottom",height:"701",width:"750",radius:"6",bgColor:"#ffffff",showCloseIcon:!0},on:{hide:function(e){arguments[0]=e=t.$handleEvent(e),t.clearPassword()}}},[n("v-uni-view",{staticClass:"popup-content"},[n("v-uni-view",{staticClass:"popup-content-title"},[t._v("请输入交易密码")]),n("v-uni-view",{staticClass:"password-content"},[n("v-uni-view",{staticClass:"block"},t._l(6,(function(t){return n("v-uni-view",{key:t,staticClass:"block-item"})})),1),n("v-uni-view",{staticClass:"point"},t._l(t.password,(function(t){return n("v-uni-view",{key:t,staticClass:"point-item"},[n("v-uni-view",{staticClass:"point-item-center"})],1)})),1)],1),n("v-uni-view",{staticClass:"keyboard"},t._l(t.keyboardList,(function(e){return n("v-uni-view",{key:e.text,staticClass:"keyboard-button",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handInput(e)}}},[t._v(t._s(e))])})),1)],1)],1),n("my-dialog",{ref:"myDialog"},[n("v-uni-view",{staticClass:"dialog-content"},[n("v-uni-view",{staticClass:"dialog-text1"},[t._v("您的余额不足")]),n("v-uni-view",{class:["dialog-text2",t.$store.state.user.inApp?"hideText":""]},[t._v("请前往元音符App进行充值")]),t.$store.state.user.inApp?n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNativePage({page:"cashRechargePage",isNeedLogin:!0,params:{}})}}},[t._v("去充值")]):n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDownload.apply(void 0,arguments)}}},[t._v("下载App")])],1)],1),n("my-dialog",{ref:"myDialog1"},[n("v-uni-view",{staticClass:"dialog-content"},[n("v-uni-view",{staticClass:"dialog-text1"},[t._v("未设置支付密码")]),n("v-uni-view",{class:["dialog-text2",t.$store.state.user.inApp?"hideText":""]},[t._v("请前往元音符App进行设置")]),t.$store.state.user.inApp?n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNativePage({page:"pwdSettingPage",isNeedLogin:!0,params:{}})}}},[t._v("去设置")]):n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDownload.apply(void 0,arguments)}}},[t._v("下载App")])],1)],1)],1)},o=[]},"2c1e":function(t,e,a){"use strict";a.r(e);var n=a("7a96"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"76c0":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */.dialog[data-v-6391cede]{position:fixed;top:0;left:0;z-index:999;width:100vw;height:0;background-color:transparent;display:flex;align-items:center;justify-content:center;transition:background-color .5s}.dialog .center-box[data-v-6391cede]{width:%?500?%;height:%?0?%;background-color:initial;border-radius:%?16?%;transition:background-color .3s}.visible[data-v-6391cede]{background-color:rgba(0,0,0,.5);height:100vh;visibility:visible}.visible .center-box[data-v-6391cede]{background-color:#fff}.hidden[data-v-6391cede]{visibility:hidden}',""]),t.exports=e},"7a96":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"dialog",data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},close:function(){this.visible=!1}}};e.default=n},8289:function(t,e,a){"use strict";var n=a("be3c"),i=a.n(n);i.a},a982:function(t,e,a){"use strict";a.r(e);var n=a("cc28"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},be3c:function(t,e,a){var n=a("76c0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("624fa0a0",n,!0,{sourceMap:!1,shadowMode:!1})},ca22:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA2CAYAAACSjFpuAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARWSURBVHgB5Zq/b9tGFMe/78QERYPYUot46SKvRYrYgNUfm2PLQJf+GNspyl9gd+5gZ+la+y+wPbVbf0xFq9jaWkgF7ABB13AoOjRAJTlIUaTkvdxRtiRSovjTMql8FolHHskv3r17x3uPcEm0W9VVwXSHhFxipiWAigCX3VeRSWATjA6DGpL4UalSbyBFCCmiRRWI7ylBn6rDIuLRIeLvbabDNMQmFtg+WS0alrEpgS3EF+WDsjDRztzKz4eISSKBz5rrm1K9AFIX5iW+0FgC279+WC4Y1j4Dq5gqZEqjcLe0/JMZtodARLTVhGGdTF+chsvCsk7av1W3wvaIZMFnreq28rUdZABlmZ2blfqDoOtCCzz7fWOfmWvIEMovD+ZWfrk/8RqEIIviLggSGeiDelhmVZxGv5t+R7/zEy14HgZ2kQOkjS9K79dH3tVXoA4FerbEpce41OhIw1j2hhDfISoM+xj5EacpFixr39s4VmC7uVEbXRhnHx2bvTFy7BDttjaexBVIry2Cbr7napOdI+D/vyd3vLYAUVyL3m8UNVStxdJyo6MPDO/ZpNZj9UJifh10faHfRjfegW1+ObGfuPWZErg+uM8LJezpt4hBES8MbcUd574jDyJsIwn2c8in37ia6PXbSuRt3y76/LA4jfceURACm/3/wyf091wavsfdI/Dzx+6H3vrc93rx1qa7v7KevkcCij0tHoEixYA+1ooeH3PaVRtdW3D3/fMrJEWoD2/n1/00+gQpwf8+Hm9FcWO0bQg9sfB/T5D8BZxdhYHAc5OmGvfsv/Ycn7xAW0q8+VH/WIsbsV4C3/PgDNOBBW25hLRRM6r850dXk3jj454VlTDvkHXERQ8L/thY6sfBs+b6d0w9sybBePsHpIn1RwKvIT4YWJAoT8uycKjtyr5AtS9ZxsxBxaFZNH9rz2C4bCBlgnzG66OJfCwEkXfV8sarJJBMzBxkDvkgd5ACUeNg0PVJfJRV5qpvQSnxCDMGS3TF0NEpZg1GYyCwIGZPYAGnrj2ZbqvaxiXvpE0xDnbmK/WSK0woP0x3pXyVqCyx/nHHQYEDzAhSpcD1r0vgeU48lXBxtbB5kd8fWcmoYbqHnEM0yGGOLtWuWzqBkWMrsjm38rCfyx+7s91urW0JiK+RQ4i4FihQc9aqHl9NHj4JbM5XHi4Ot/h+TdiWpbOmeRqqKidh3/U2+gosfdAwJWRgkj8rSOCBSriY3vaJ34OlytGu7oiM44ir1MdmokMVIXSb1QN15T1kEMk4LL1br/mdD11GkkWRQeI0obcs5tWNsjRcnWEZIE4TuVbtPEbqHOJVbRR3Jvmcl5jFeKtlYRSOVfcypoiKyw02rPvjZks/EpVTtptrNUG0PQWhkaw2TCoVv5coVAvbg2HtXhQVRCX1kmaoLLHoJVJjlzTrj1WZlZJmP3pF6XzHWc86mSsqkyf/wc5eLOsa7VM1LZ5KotSL0l8CNlus9kTuPZIAAAAASUVORK5CYII="},cc28:function(t,e,a){"use strict";var n=a("4ea4");a("99af"),a("7db0"),a("4160"),a("a9e3"),a("e25e"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("1da1")),o=a("173f"),r=a("1a64"),c=n(a("aed0")),s=a("df47"),d=n(a("b53b")),u=n(a("1754")),l=n(a("dcd9")),p={data:function(){return{timer:null,product_item_id:"",count_down:"",order_no:"",order_price:"",displayTime:"",list:[],listenTimer:null,password:[],keyboardList:["1","2","3","4","5","6","7","8","9","C","0","清空"],myAmount:0,hasPw:null}},components:{CuHead:c.default,WybPopup:u.default,MyDialog:l.default},methods:{handleBack:function(){var t=getCurrentPages();console.log(t),1===t.length?uni.redirectTo({url:"/pages/index/index"}):uni.navigateBack({delta:1})},getOrderResult:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,uni.showLoading({title:"加载中",mask:!0}),e.next=4,(0,r.post1)(o.h5_conllections_buy_result,{order_no:t.order_no});case 4:if(a=e.sent,0===a.code){e.next=7;break}return e.abrupt("return",uni.showToast({title:a.msg,icon:"error"}));case 7:t.order_no=a.data.order_no,t.order_price=a.data.order_price||a.data.amount,t.count_down=a.data.count_down,t.startCountDown(),t.getPayType(),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0),uni.showToast({title:e.t0.message,icon:"error"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},startCountDown:function(){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){if(t.count_down<=1)clearInterval(t.timer),uni.showToast({title:"订单已失效请重新下单，即将为您返回到详情页",mask:!0,duration:3e3}),setTimeout((function(){var t=getCurrentPages();console.log(t),1===t.length?uni.redirectTo({url:"/pages/index/index"}):uni.navigateBack({delta:2})}),3e3);else{t.count_down--;var e=parseInt(t.count_down/60),a=parseInt(t.count_down%60);e=e<10?"0"+e:e,a=a<10?"0"+a:a,t.displayTime=e+":"+a}}),1e3)},getPayType:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$post(o.h5_conllections_buy_pay_type_list,{module_type:1});case 3:if(a=e.sent,0===a.code){e.next=6;break}return e.abrupt("return",uni.showToast({title:a.msg,icon:"error"}));case 6:a.data.forEach((function(t,e){t.checked=!e})),t.list=a.data||[],uni.hideLoading(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),uni.showToast({title:error.message,icon:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},handSelect:function(t){this.list.forEach((function(t){return t.checked=!1})),this.list[t].checked=!0},wxPay:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var n,i,r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n=(0,s.isWxBrowser)()?"js":"h5",i={order_no:e.order_no,pay_id:t,pay_type:n,open_id:(0,s.getOpenId)()||""},a.next=5,e.$post(o.h5_conllections_buy_pay,i);case 5:if(r=a.sent,0===r.code){a.next=8;break}return a.abrupt("return",uni.showToast({title:r.msg,icon:"error"}));case 8:console.log("pay"),"js"===n?(c=r.data.wx_pay_param,c.packageNew=c.package,e.paymentFn(c)):window.location.href=r.data.wx_pay_param.pay_string,a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](0),console.log(a.t0),uni.showToast({title:a.t0.message,icon:"error"});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()},paymentFn:function(t){t.prepay_id;var e=t.app_id,a=t.time_stamp,n=t.nonce_str,i=t.packageNew,o=t.sign,r=t.sign_type;function c(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e,timeStamp:a,nonceStr:n,package:i,signType:r,paySign:o},(function(t){"get_brand_wcpay_request:ok"==t.err_msg&&uni.showToast({title:"支付成功",icon:"success"}),"get_brand_wcpay_request:cancel"==t.err_msg&&uni.showToast({title:"支付取消",icon:"none"}),"get_brand_wcpay_request:fail"==t.err_msg&&uni.showToast({title:"支付失败",icon:"error"}),"调用支付JSAPI缺少参数：total_fee"==t.err_msg&&uni.showToast({title:"调用支付JSAPI缺少参数：total_fee",icon:"error"})}))}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",c,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",c),document.attachEvent("onWeixinJSBridgeReady",c)):c()},balancePay:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={order_no:t.order_no,module_type:3,password:(0,d.default)(t.password.join(""))},e.next=4,t.$post(o.h5_collections_wallet_pay_wallet,a);case 4:if(n=e.sent,900!==n.code){e.next=9;break}return e.abrupt("return",t.$refs.myDialog1.show());case 9:if(901!==n.code){e.next=13;break}return e.abrupt("return",t.$refs.myDialog.show());case 13:if(0===n.code||900===n.code||901===n.code){e.next=15;break}return e.abrupt("return",uni.showToast({title:n.msg,icon:"error"}));case 15:t.$refs.popup.close(),(0,r.post1)(o.h5_conllections_buy_showsuccess,{order_no:t.order_no}).then((function(e){200===e.code?(clearTimeout(t.timer),uni.redirectTo({url:"/pages/paySuccess/paySuccess?order_no=".concat(t.order_no,"&order_price=").concat(t.order_price,"&product_item_id=").concat(t.product_item_id,"&order_id=").concat(e.data.order_id)})):0!==e.code&&200!==e.code&&uni.showToast({title:e.msg,icon:"none"})})),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),uni.showToast({title:e.t0.message});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()},handPay:function(){try{var t=this.list.find((function(t){return t.checked})).pay_id;if(2===t)this.wxPay(t);else if(4===t){if(null===this.hasPw)return!1;!0===this.hasPw?this.myAmount-Number(this.order_price)>=0?this.$refs.popup.show():this.$refs.myDialog.show():this.$refs.myDialog1.show()}}catch(e){}},handInput:function(t){if("C"===t){if(0===this.password.length)return!1;this.password.pop()}else if("清空"===t)this.password=[];else{if(6===this.password.length)return!1;this.password.push(t)}6===this.password.length&&this.balancePay()},clearPassword:function(){this.password=[]},goDownload:function(){(0,s.jumpBefore)(null)},goNativePage:function(t){(0,s.openAppPage)(t)},listenPaySuccess:function(){var t=this;(0,r.post1)(o.h5_conllections_buy_showsuccess,{order_no:this.order_no}).then((function(e){200===e.code?(clearTimeout(t.timer),uni.redirectTo({url:"/pages/paySuccess/paySuccess?order_no=".concat(t.order_no,"&order_price=").concat(t.order_price,"&product_item_id=").concat(t.product_item_id,"&order_id=").concat(e.data.order_id)})):0!==e.code&&200!==e.code?uni.showToast({title:e.msg,icon:"none"}):t.listenPaySuccess()})).catch((function(t){uni.showToast({icon:"error",title:res.message})}))},getUserAmountAndHasPw:function(){var t=this;(0,r.post1)(o.h5_collections_user_getAmount).then((function(e){if(0!==e.code)return uni.showToast({icon:"none",title:e.msg});t.myAmount=e.data.money_account.amount||0,(0,r.post1)(o.h5_collections_user_if_password).then((function(e){t.hasPw="false"!==e.data})).catch((function(t){uni.showToast({title:t.message})}))})).catch((function(t){uni.showToast({title:t.message})}))}},onLoad:function(t){this.product_item_id=Number(t.product_item_id),this.order_no=t.order_no,this.order_price=t.order_price,this.getOrderResult()},onShow:function(){this.listenPaySuccess(),this.getUserAmountAndHasPw()},onHide:function(){},beforeDestroy:function(){clearTimeout(this.timer)}};e.default=p},dcd9:function(t,e,a){"use strict";a.r(e);var n=a("fe8b"),i=a("2c1e");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("8289");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"6391cede",null,!1,n["a"],r);e["default"]=s.exports},f5f1:function(t,e,a){"use strict";var n=a("f656"),i=a.n(n);i.a},f656:function(t,e,a){var n=a("019c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("316b75a1",n,!0,{sourceMap:!1,shadowMode:!1})},fe8b:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:["dialog",t.visible?"visible":"hidden"],on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"center-box"},[t.visible?t._t("default"):t._e()],2)],1)},o=[]}}]);