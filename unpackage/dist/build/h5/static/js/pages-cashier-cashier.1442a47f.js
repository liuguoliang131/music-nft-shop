(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cashier-cashier"],{"04ed":function(t,e,n){var i=n("3d91");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("1aa7711a",i,!0,{sourceMap:!1,shadowMode:!1})},"14ba":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */.dialog[data-v-427891ea]{position:fixed;top:0;left:0;z-index:999;width:100vw;height:0;background-color:transparent;display:flex;align-items:center;justify-content:center;transition:background-color .5s}.dialog .center-box[data-v-427891ea]{width:%?500?%;min-height:0;background-color:initial;border-radius:%?16?%;background-color:#fff;transition:background-color .3s;color:rgba(0,0,0,.9);overflow:hidden}.visible[data-v-427891ea]{background-color:rgba(0,0,0,.5);height:100vh;visibility:visible}.visible .center-box[data-v-427891ea]{border-radius:%?16?%;background-color:#fff;overflow:hidden}.hidden[data-v-427891ea]{visibility:hidden}',""]),t.exports=e},1754:function(t,e,n){"use strict";n.r(e);var i=n("ff3f"),o=n("f69f");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("569e");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"fe19e6e4",null,!1,i["a"],void 0);e["default"]=r.exports},"1a95":function(t,e,n){"use strict";var i=n("c36d"),o=n.n(i);o.a},"209f":function(t,e,n){"use strict";n.r(e);var i=n("e595"),o=n("a982");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("f3d8");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"04aa30bc",null,!1,i["a"],void 0);e["default"]=r.exports},"2b51":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@font-face{font-family:iconfont;src:url("data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAKUAAsAAAAABlAAAAJJAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCCcApcdgE2AiQDCAsGAAQgBYRtBy8bmwXIrjBu4UkbIjvjLimCmu1EP9KHAd4jgmi/3+zde18toRbpnkUTzRKRUkgQE6RA9xL+tMuG6RYp8bFsgmbcecAB9mDhH67tDS3pQsIsmSbPL7chM1RKsFr5mNDBoUDPJItlaZG8fvhi/tciWcbRfJ7L6U2gA1l9oBz3orEmTRpAvTigAPfCKLISSiNtGLvAJdwn0DCHgMfN/kgLK1jLAvE0p7YWzoUVCparCZWavYV4U6qllxTNa/j5+JeKMEmZWQ1njw1PK39hF+TnFG59QoSADpfI2AEUxFVt+oQpGIc10pYlYF+1wRfTfZfYq12wv86qboEZqLgnpau61VyC21L06V8d9cuJmT795hWPJp8ayHj0wrZNx+/+1Nzdf8MBtu9H2p+tgB5tn/W1PEZvgeD5Xf/if61ZgE9foa3Qz0ttd57gtyh79hS62nKmQlXWDiczp2tqaGAK+we+sZbxPeRDzXiEt2o2RVazQhbsDkpNu6io2UPDNn24aagxRVHHlgkQehaSjg9kPYcs2IvSxENFL0w03ASd2bQW82is0d6iB+YE2ZWCOO5tNKodIN0xe51Vh/wE15t5DGQsUcy1UOB6jg19T1NjSyCsJQcFHkPGJJS1XKC7jaXtVpV4nNS9KGYl16KOrCHbFvIA4wRkLkkg/uitaOn9A4jaYWzrlq6a/ARa25hPDiRG9CBbBtGr616e6faolGGLAMGaxAEFZiGGkUCpn7WAXFsxaURSKeH2oNDXEFvfxL/uGDRY1hT2lKy8Y3KDmgYA") format("woff2")}.iconfont[data-v-fe19e6e4]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-close[data-v-fe19e6e4]:before{content:"\\e622"}.wyb-popup-box[data-v-fe19e6e4]{position:fixed;transition-timing-function:ease-out;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.wyb-popup-container[data-v-fe19e6e4]{position:relative;box-sizing:border-box}.wyb-popup-slot[data-v-fe19e6e4]{width:100%;height:100%}.wyb-popup-mask[data-v-fe19e6e4]{position:fixed;top:0;left:0;bottom:0;right:0;transition-timing-function:ease;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.wyb-popup-close[data-v-fe19e6e4]{position:absolute;fontSize:%?40?%;color:grey;z-index:20000}.wyb-popup-custom-close[data-v-fe19e6e4]{left:0;top:0;position:absolute}',""]),t.exports=e},"2c1e":function(t,e,n){"use strict";n.r(e);var i=n("7a96"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"3d91":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */.container[data-v-04aa30bc]{padding:0}.container .box1[data-v-04aa30bc]{height:%?400?%;text-align:center}.container .box1 .time[data-v-04aa30bc]{padding-top:%?150?%;font-size:%?28?%;line-height:%?40?%;\n  /* identical to box height */text-align:center;color:#aeaeae}.container .box1 .time .time-count[data-v-04aa30bc]{margin-left:%?8?%}.container .box1 .price[data-v-04aa30bc]{height:%?100?%;color:#d10910;line-height:%?100?%}.container .box1 .price .rmb[data-v-04aa30bc]{font-size:%?44?%}.container .box1 .price .count[data-v-04aa30bc]{font-size:%?64?%;font-weight:600}.container .box2[data-v-04aa30bc]{overflow-y:scroll;height:%?800?%}.container .box2 .empty-cell[data-v-04aa30bc]{height:%?240?%}.container .box2 .box2-item[data-v-04aa30bc]{display:flex;height:%?100?%;padding-top:%?32?%}.container .box2 .box2-item .icon[data-v-04aa30bc]{width:%?54?%;height:%?54?%;margin-left:%?30?%}.container .box2 .box2-item .item-right[data-v-04aa30bc]{flex:1;display:flex;align-items:center;margin-left:%?40?%;border-bottom:%?1?% solid #363636;padding-bottom:%?28?%}.container .box2 .box2-item .item-right .text[data-v-04aa30bc]{flex:1;margin-right:%?20?%;font-family:PingFang SC;font-style:normal;font-weight:400;color:#ddd;display:flex}.container .box2 .box2-item .item-right .text .text-1[data-v-04aa30bc]{flex:1;display:flex}.container .box2 .box2-item .item-right .text .text-1 .text-1-1 .text-1-1-1[data-v-04aa30bc]{font-size:%?30?%;line-height:%?42?%;color:#ddd}.container .box2 .box2-item .item-right .text .text-1 .text-1-1 .text-1-1-2[data-v-04aa30bc]{max-width:%?250?%;padding-top:%?2?%;font-size:%?24?%;line-height:%?34?%;color:#d10910;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.container .box2 .box2-item .item-right .text .text-1 .text-1-2[data-v-04aa30bc]{margin-top:%?38?%;margin-left:%?10?%;border:%?0.5?% solid #c8a964;border-radius:%?19?%;width:%?96?%;height:%?38?%;display:flex;align-items:center;justify-content:center;font-family:PingFang SC;font-style:normal;font-weight:500;font-size:%?22?%;line-height:%?38?%;color:#c8a964}.container .box2 .box2-item .item-right .text .text-2[data-v-04aa30bc]{font-family:PingFang SC;font-style:normal;font-weight:400;font-size:%?24?%;line-height:%?46?%;width:%?200?%;height:%?46?%;\n  /* identical to box height */text-align:center;color:#ececec;opacity:.8;background:#292929;border-radius:%?23?% 0 %?23?% %?23?%}.container .box2 .box2-item .item-right .radio[data-v-04aa30bc]{position:relative;width:%?44?%;height:%?44?%;margin-right:%?30?%}.container .box2 .box2-item .item-right .radio .nocheck[data-v-04aa30bc]{width:%?40?%;height:%?40?%;border-radius:%?22?%;border:%?2?% solid #363636}.container .box2 .box2-item .item-right .radio .checked[data-v-04aa30bc]{position:absolute;top:%?0?%;left:%?0?%;width:%?44?%;height:%?44?%}.container .box3[data-v-04aa30bc]{position:fixed;bottom:%?140?%;left:0;width:100%;text-align:center}.container .box3 .submit[data-v-04aa30bc]{display:flex;align-items:center;justify-content:center;line-height:0;margin:auto;background:#d10910;border-radius:48px;height:%?96?%;width:%?686?%;font-weight:500;font-size:%?32?%}.container .box3 .submit[data-v-04aa30bc]:active{background-color:rgba(209,9,16,.6);color:#868686}.container[data-v-04aa30bc] .icon-close{font-size:%?36?%}.container[data-v-04aa30bc] .wyb-popup-box{z-index:998!important}.container[data-v-04aa30bc] .wyb-popup-mask{z-index:997!important}.container .popup-content[data-v-04aa30bc]{padding:0;text-align:center}.container .popup-content .popup-content-title[data-v-04aa30bc]{height:%?100?%;text-align:center;line-height:%?100?%;font-size:%?30?%;color:#000}.container .popup-content .password-content[data-v-04aa30bc]{position:relative;margin:0 %?90?%}.container .popup-content .password-content .block[data-v-04aa30bc]{display:flex;align-items:center}.container .popup-content .password-content .block .block-item[data-v-04aa30bc]{box-sizing:border-box;border:%?1?% solid rgba(0,0,0,.05);background-color:rgba(0,0,0,.1);width:%?70?%;height:%?70?%;margin:0 %?12.5?%;border-radius:%?10?%}.container .popup-content .password-content .point[data-v-04aa30bc]{width:100%;position:absolute;top:0;left:0;display:flex;align-items:center}.container .popup-content .password-content .point .point-item[data-v-04aa30bc]{box-sizing:border-box;width:%?70?%;height:%?70?%;margin:0 %?12.5?%;display:flex;align-items:center;justify-content:center}.container .popup-content .password-content .point .point-item .point-item-center[data-v-04aa30bc]{width:%?26?%;height:%?26?%;border-radius:%?13?%;background-color:#000}.container .popup-content .keyboard[data-v-04aa30bc]{width:100%;padding-top:%?40?%;display:flex;align-content:center;justify-content:center;flex-wrap:wrap}.container .popup-content .keyboard .keyboard-button[data-v-04aa30bc]{box-sizing:border-box;width:%?190?%;height:%?80?%;margin:%?20?%;border-radius:%?7?%;background-color:#fff;box-shadow:%?0?% %?0?% %?2?% %?3?% rgba(0,0,0,.1);display:flex;align-items:center;justify-content:center;font-size:%?36?%;font-weight:600;color:#363636}.container .popup-content .keyboard .keyboard-button[data-v-04aa30bc]:active{background-color:rgba(0,0,0,.05);box-shadow:%?0?% %?0?% %?1?% %?1?% rgba(0,0,0,.2);color:rgba(0,0,0,.7)}.container .dialog-content[data-v-04aa30bc]{position:relative;font-weight:600;font-size:%?32?%;line-height:%?44?%;color:rgba(0,0,0,.9);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center;background-color:#fff}.container .dialog-content .dialog-text1[data-v-04aa30bc]{padding-top:%?70?%;padding-bottom:%?20?%}.container .dialog-content .dialog-text2[data-v-04aa30bc]{padding-bottom:%?70?%}.container .dialog-content .hideText[data-v-04aa30bc]{visibility:hidden}.container .dialog-content .dialog-bottom[data-v-04aa30bc]{display:flex;align-items:center;justify-content:center;line-height:0;margin:auto;background:#d10910;color:#fff;border-radius:0 0 %?16?% %?16?%;height:%?96?%;width:%?500?%;font-weight:500;font-size:%?32?%}.container .dialog-content .dialog-bottom[data-v-04aa30bc]:active{background-color:rgba(209,9,16,.6);color:#868686}',""]),t.exports=e},"569e":function(t,e,n){"use strict";var i=n("8785"),o=n.n(i);o.a},"7a96":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"MyDialog",data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},close:function(){this.visible=!1}}}},"7e9f":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("d3b7");var i={data:function(){return{w:uni.getSystemInfoSync().screenWidth,h:uni.getSystemInfoSync().screenHeight,isShow:!1,winReBottom:"",winReTop:"",sizeChange:!1,contentOpacity:null,contentTransform:null,maskOpacity:0}},computed:{autoCenterTop:function(){uni.getSystemInfoSync().statusBarHeight;var t=uni.getSystemInfoSync().windowHeight,e=this.rpxToPx(this.height),n="".concat((t-e)/2-this.negativeTop,"px");return n},autoTransform:function(){var t="";switch(this.type){case"center":"zoom-lessen"===this.centerAnim?t="scale(".concat(this.zoomLessenMulti,")"):"slide-up"===this.centerAnim?t="translateY(".concat(100*this.slideMulti,"%)"):"slide-down"===this.centerAnim?t="translateY(".concat(-100*this.slideMulti,"%)"):"fade"===this.centerAnim&&(t="auto");break;case"bottom":t="translateY(100%)";break;case"top":t="translateY(-100%)";break;case"left":t="translateX(-100%)";break;case"right":t="translateX(100%)";break}return t},autoWidth:function(){return"center"===this.type?"".concat(this.width,"rpx"):"size-fixed"===this.mode?"top"===this.type||"bottom"===this.type?"100%":"".concat(this.width,"rpx"):"top"===this.type||"bottom"===this.type?"100%":"auto"},autoHeight:function(){return"center"===this.type?"".concat(this.height,"rpx"):"size-fixed"===this.mode?"left"===this.type||"right"===this.type?"100%":"".concat(this.height,"rpx"):"left"===this.type||"right"===this.type?"100%":"auto"},autoTop:function(){return"center"===this.type?this.autoCenterTop:"bottom"===this.type?"auto":0},autoBottom:function(){return"center"===this.type||"top"===this.type?"auto":0},autoLeft:function(){return"center"===this.type?"".concat((this.w-this.rpxToPx(this.width))/2,"px"):"right"===this.type?"auto":0},autoRight:function(){return"center"===this.type||"left"===this.type?"auto":0}},props:{type:{type:String,default:"bottom"},mode:{type:String,default:"size-auto"},height:{type:[String,Number],default:400},width:{type:[String,Number],default:500},radius:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10076},maskClickClose:{type:Boolean,default:!0},maskAlpha:{type:Number,default:.5},duration:{type:Number,default:400},showCloseIcon:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},scrollX:{type:Boolean,default:!1},closeIconPos:{type:String,default:"top-right"},closeIcon:{type:String,default:""},closeIconSize:{type:[String,Number],default:"20"},vertOffset:{type:[String,Number],default:"22"},horiOffset:{type:[String,Number],default:"22"},centerAnim:{type:String,default:"zoom-lessen"},bgColor:{type:String,default:"#ffffff"},zoomLessenMulti:{type:Number,default:1.15},slideMulti:{type:Number,default:1},negativeTop:{type:Number,default:0}},mounted:function(){var t=this,e=uni.getSystemInfoSync().windowHeight;uni.onWindowResize((function(n){t.sizeChange=!0,"bottom"===t.type?t.winReBottom=e-n.size.windowHeight+"px":"center"===t.type&&(t.winReTop=(n.size.windowHeight-t.rpxToPx(t.height))/2-t.negativeTop+"px")}))},methods:{close:function(){this.maskClickClose&&this.hide()},show:function(){var t=this;this.isShow=!0,this.wait(10).then((function(){t.maskIn(),t.contentIn(),t.wait(t.duration+1).then((function(){t.$emit("show",{pageScroll:!1,overflow:"hidden"})}))}))},hide:function(){var t=this;this.contentOut(),this.maskOut(),this.wait(this.duration+1).then((function(){t.isShow=!1,t.$emit("hide",{pageScroll:!0,overflow:"scroll"})}))},contentIn:function(){switch(this.type){case"center":"zoom-lessen"===this.centerAnim?(this.contentOpacity=1,this.contentTransform="scale(1)"):"slide-up"===this.centerAnim||"slide-down"===this.centerAnim?(this.contentOpacity=1,this.contentTransform="translateY(0)"):"fade"===this.centerAnim&&(this.contentOpacity=1);break;case"bottom":case"top":this.contentTransform="translateY(0)";break;case"left":case"right":this.contentTransform="translateX(0)";break}},contentOut:function(){this.contentOpacity=null,this.contentTransform=null},maskIn:function(){this.maskOpacity=1},maskOut:function(){this.maskOpacity=0},rpxToPx:function(t){return t/750*this.w},wait:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))}}};e.default=i},8785:function(t,e,n){var i=n("2b51");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("996f6f46",i,!0,{sourceMap:!1,shadowMode:!1})},a982:function(t,e,n){"use strict";n.r(e);var i=n("cc28"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},c36d:function(t,e,n){var i=n("14ba");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2b7e5a0b",i,!0,{sourceMap:!1,shadowMode:!1})},cc28:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("e25e"),n("4de4"),n("d3b7"),n("159b"),n("99af"),n("e9c4"),n("7db0"),n("a9e3"),n("14d9");var o=i(n("c7eb")),a=i(n("1da1")),s=n("173f"),r=n("1a64"),c=i(n("adff")),u=n("df47"),d=i(n("b53b")),l=i(n("1754")),p=i(n("dcd9")),f={data:function(){return{timer:null,product_item_id:"",count_down:"",order_no:"",order_price:"",displayTime:"",list:[],listenTimer:null,password:[],keyboardList:["1","2","3","4","5","6","7","8","9","C","0","清空"],myAmount:0,hasPw:null,pageOrigin:""}},components:{NavHead:c.default,WybPopup:l.default,MyDialog:p.default},methods:{handleBack:function(){var t=getCurrentPages();1===t.length?uni.redirectTo({url:"/pages/index/index"}):uni.navigateBack({delta:1})},getOrderResult:function(){var t=this;return(0,a.default)((0,o.default)().mark((function e(){var n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,uni.showLoading({title:"加载中",mask:!0}),e.next=4,(0,r.post1)(s.h5_conllections_buy_result,{order_no:t.order_no});case 4:if(n=e.sent,0===n.code){e.next=7;break}return e.abrupt("return",uni.showToast({title:n.msg,icon:"none"}));case 7:t.order_no=n.data.order_no,t.order_price=n.data.order_price||n.data.amount,t.count_down=n.data.count_down,t.startCountDown(),t.getPayType(),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),uni.showToast({title:e.t0.message,icon:"none"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},startCountDown:function(){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){if(t.count_down<=1)clearInterval(t.timer),uni.showToast({icon:"none",title:"订单已失效请重新下单，即将为您返回到详情页",mask:!0,duration:3e3}),setTimeout((function(){var t=getCurrentPages();1===t.length?uni.redirectTo({url:"/pages/index/index"}):uni.navigateBack({delta:2})}),3e3);else{t.count_down--;var e=parseInt(t.count_down/60),n=parseInt(t.count_down%60);e=e<10?"0"+e:e,n=n<10?"0"+n:n,t.displayTime=e+":"+n}}),1e3)},getPayType:function(){var t=this;return(0,a.default)((0,o.default)().mark((function e(){var n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$post(s.h5_conllections_buy_pay_type_list,{module_type:1});case 3:if(n=e.sent,0===n.code){e.next=6;break}return e.abrupt("return",uni.showToast({title:n.msg,icon:"none"}));case 6:t.list=n.data.filter((function(t,e){return t.checked=!e,4===t.pay_id})),uni.hideLoading(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),uni.showToast({title:error.message,icon:"none"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},handSelect:function(t){this.list.forEach((function(t){return t.checked=!1})),this.list[t].checked=!0},wxPay:function(t){var e=this;return(0,a.default)((0,o.default)().mark((function n(){var i,a,r,c;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=(0,u.isWxBrowser)()?"js":"h5",a={order_no:e.order_no,pay_id:t,pay_type:i,open_id:(0,u.getOpenId)()||""},n.next=5,e.$post(s.h5_conllections_buy_pay,a);case 5:if(r=n.sent,0===r.code){n.next=8;break}return n.abrupt("return",uni.showToast({title:r.msg,icon:"none"}));case 8:"js"===i?(c=r.data.wx_pay_param,c.packageNew=c.package,e.paymentFn(c)):window.location.href=r.data.wx_pay_param.pay_string,n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](0),uni.showToast({title:n.t0.message,icon:"none"});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},paymentFn:function(t){t.prepay_id;var e=t.app_id,n=t.time_stamp,i=t.nonce_str,o=t.packageNew,a=t.sign,s=t.sign_type;function r(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e,timeStamp:n,nonceStr:i,package:o,signType:s,paySign:a},(function(t){"get_brand_wcpay_request:ok"==t.err_msg&&uni.showToast({title:"支付成功",icon:"success"}),"get_brand_wcpay_request:cancel"==t.err_msg&&uni.showToast({title:"支付取消",icon:"none"}),"get_brand_wcpay_request:fail"==t.err_msg&&uni.showToast({title:"支付失败",icon:"none"}),"调用支付JSAPI缺少参数：total_fee"==t.err_msg&&uni.showToast({title:"调用支付JSAPI缺少参数：total_fee",icon:"none"})}))}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",r,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",r),document.attachEvent("onWeixinJSBridgeReady",r)):r()},balancePay:function(){var t=this;return(0,a.default)((0,o.default)().mark((function e(){var n,i;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({mask:!0,title:"支付中"}),e.prev=1,n={order_no:t.order_no,module_type:3,password:(0,d.default)(t.password.join(""))},e.next=5,(0,r.post1)(s.h5_collections_wallet_pay_wallet,n);case 5:if(i=e.sent,900!==i.code){e.next=11;break}return uni.hideLoading(),e.abrupt("return",t.$refs.myDialog1.show());case 11:if(901!==i.code){e.next=16;break}return uni.hideLoading(),e.abrupt("return",t.$refs.myDialog.show());case 16:if(0===i.code||900===i.code||901===i.code){e.next=19;break}return uni.hideLoading(),e.abrupt("return",uni.showToast({title:i.msg,icon:"none"}));case 19:setTimeout((function(){t.$refs.popup.close(),(0,r.post1)(s.h5_conllections_buy_showsuccess,{order_no:t.order_no}).then((function(e){if(uni.hideLoading(),0!==e.code)return uni.showToast({title:e.msg,icon:"none"});1===e.data.pay_status?(clearTimeout(t.timer),uni.redirectTo({url:"/pages/paySuccess/paySuccess?data=".concat(JSON.stringify(e.data),"&pageOrigin=").concat(t.pageOrigin)})):uni.showToast({title:e.msg,icon:"none"})}))}),400),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](1),uni.showToast({title:e.t0.message});case 25:case"end":return e.stop()}}),e,null,[[1,22]])})))()},handShowDialog2:function(){this.$refs.myDialog2.show()},handPay:function(){try{var t=this.list.find((function(t){return t.checked})).pay_id;if(2===t);else if(4===t){if(null===this.hasPw)return!1;!0===this.hasPw?this.myAmount-Number(this.order_price)>=0?this.$refs.popup.show():this.$refs.myDialog.show():this.$refs.myDialog1.show()}}catch(e){}},handInput:function(t){if("C"===t){if(0===this.password.length)return!1;this.password.pop()}else if("清空"===t)this.password=[];else{if(6===this.password.length)return!1;this.password.push(t)}6===this.password.length&&this.balancePay()},clearPassword:function(){this.password=[]},goDownload:function(){(0,u.jumpBefore)(null)},goNativePage:function(t){(0,u.openAppPage)(t)},listenPaySuccess:function(){var t=this;(0,r.post1)(s.h5_conllections_buy_showsuccess,{order_no:this.order_no}).then((function(e){if(0!==e.code)return uni.showToast({title:e.msg,icon:"none"});1===e.data.pay_status?(clearTimeout(t.timer),uni.redirectTo({url:"/pages/paySuccess/paySuccess?order_no=".concat(t.order_no,"&order_price=").concat(t.order_price,"&product_item_id=").concat(t.product_item_id,"&order_id=").concat(e.data.order_id)})):0===e.data.pay_status?t.listenPaySuccess():2!==e.data.pay_status&&3!==e.data.pay_status&&4!==e.data.pay_status||uni.showToast({title:e.msg,icon:"none"})})).catch((function(t){uni.showToast({icon:"none",title:res.message})}))},getUserAmountAndHasPw:function(){var t=this;(0,r.post1)(s.h5_collections_user_getAmount).then((function(e){if(0!==e.code)return uni.showToast({icon:"none",title:e.msg});t.myAmount=e.data.money_account.amount||0,(0,r.post1)(s.h5_collections_user_if_password).then((function(e){t.hasPw="false"!==e.data})).catch((function(t){uni.showToast({title:t.message})}))})).catch((function(t){uni.showToast({title:t.message})}))}},onLoad:function(t){this.product_item_id=Number(t.product_item_id),this.order_no=t.order_no,this.order_price=t.order_price,this.getOrderResult(),t.pageOrigin&&(this.pageOrigin=t.pageOrigin)},onShow:function(){this.getUserAmountAndHasPw()},onHide:function(){},beforeDestroy:function(){clearTimeout(this.timer)}};e.default=f},dcd9:function(t,e,n){"use strict";n.r(e);var i=n("fb8d"),o=n("2c1e");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("1a95");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"427891ea",null,!1,i["a"],void 0);e["default"]=r.exports},e595:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={wybPopup:n("1754").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("nav-head",{attrs:{title:"收银台"}}),n("v-uni-view",{staticClass:"box1"},[n("v-uni-view",{staticClass:"time"},[n("v-uni-text",{staticClass:"time-text"},[t._v("剩余支付时间")]),n("v-uni-text",{staticClass:"time-count"},[t._v(t._s(t.displayTime))])],1),n("v-uni-view",{staticClass:"price"},[n("v-uni-text",{staticClass:"rmb"},[t._v("￥")]),n("v-uni-text",{staticClass:"count"},[t._v(t._s(t.order_price))])],1)],1),n("v-uni-view",{staticClass:"box2"},[t._l(t.list,(function(e,i){return n("v-uni-view",{key:e.pay_id,staticClass:"box2-item"},[2===e.pay_id?n("v-uni-image",{staticClass:"icon",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/wx.png"}}):1===e.pay_id?n("v-uni-image",{staticClass:"icon",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/zhifubao.png"}}):4===e.pay_id?n("v-uni-image",{staticClass:"icon",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/lingqian.png"}}):t._e(),n("v-uni-view",{staticClass:"item-right"},[n("v-uni-view",{staticClass:"text"},[n("v-uni-view",{staticClass:"text-1"},[n("v-uni-view",{staticClass:"text-1-1"},[n("v-uni-view",{staticClass:"text-1-1-1"},[t._v(t._s(e.pay_name))]),4===e.pay_id?n("v-uni-view",{staticClass:"text-1-1-2"},[t._v("余额：￥"+t._s(t.myAmount.toFixed(2)))]):t._e()],1),n("v-uni-view",{staticClass:"text-1-2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handShowDialog2.apply(void 0,arguments)}}},[t._v("充值")])],1)],1),n("v-uni-view",{staticClass:"radio",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handSelect(i)}}},[n("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"item.checked"}],staticClass:"checked",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/select.png"}}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!item.checked"}],staticClass:"nocheck"})],1)],1)],1)})),n("v-uni-view",{staticClass:"empty-cell"})],2),n("v-uni-view",{staticClass:"box3"},[n("v-uni-view",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handPay()}}},[t._v("立即支付")])],1),n("wyb-popup",{ref:"popup",attrs:{type:"bottom",height:"701",width:"750",radius:"6",bgColor:"#ffffff",showCloseIcon:!0},on:{hide:function(e){arguments[0]=e=t.$handleEvent(e),t.clearPassword()}}},[n("v-uni-view",{staticClass:"popup-content"},[n("v-uni-view",{staticClass:"popup-content-title"},[t._v("请输入交易密码")]),n("v-uni-view",{staticClass:"password-content"},[n("v-uni-view",{staticClass:"block"},t._l(6,(function(t){return n("v-uni-view",{key:t,staticClass:"block-item"})})),1),n("v-uni-view",{staticClass:"point"},t._l(t.password,(function(t){return n("v-uni-view",{key:t,staticClass:"point-item"},[n("v-uni-view",{staticClass:"point-item-center"})],1)})),1)],1),n("v-uni-view",{staticClass:"keyboard"},t._l(t.keyboardList,(function(e){return n("v-uni-view",{key:e.text,staticClass:"keyboard-button",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handInput(e)}}},[t._v(t._s(e))])})),1)],1)],1),n("my-dialog",{ref:"myDialog"},[n("v-uni-view",{staticClass:"dialog-content"},[n("v-uni-view",{staticClass:"dialog-text1"},[t._v("您的余额不足")]),n("v-uni-view",{class:["dialog-text2",t.$store.state.user.inApp?"hideText":""]},[t._v("请前往元音符APP进行充值")]),t.$store.state.user.inApp?n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNativePage({page:"cashRechargePage",isNeedLogin:!0,params:{}})}}},[t._v("去充值")]):n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDownload.apply(void 0,arguments)}}},[t._v("下载APP")])],1)],1),n("my-dialog",{ref:"myDialog1"},[n("v-uni-view",{staticClass:"dialog-content"},[n("v-uni-view",{staticClass:"dialog-text1"},[t._v("未设置支付密码")]),n("v-uni-view",{class:["dialog-text2",t.$store.state.user.inApp?"hideText":""]},[t._v("请前往元音符APP进行设置")]),t.$store.state.user.inApp?n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNativePage({page:"pwdSettingPage",isNeedLogin:!0,params:{}})}}},[t._v("去设置")]):n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDownload.apply(void 0,arguments)}}},[t._v("下载APP")])],1)],1),n("my-dialog",{ref:"myDialog2"},[n("v-uni-view",{staticClass:"dialog-content"},[n("v-uni-view",{staticClass:"dialog-text1"},[t._v("零钱充值")]),n("v-uni-view",{class:["dialog-text2",t.$store.state.user.inApp?"hideText":""]},[t._v("请前往元音符APP进行充值")]),t.$store.state.user.inApp?n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNativePage({page:"cashRechargePage",isNeedLogin:!0,params:{}})}}},[t._v("去充值")]):n("v-uni-view",{staticClass:"dialog-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDownload.apply(void 0,arguments)}}},[t._v("下载APP")])],1)],1)],1)},a=[]},f3d8:function(t,e,n){"use strict";var i=n("04ed"),o=n.n(i);o.a},f69f:function(t,e,n){"use strict";n.r(e);var i=n("7e9f"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},fb8d:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:["dialog",t.visible?"visible":"hidden"],on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"center-box"},[t.visible?t._t("default"):t._e()],2)],1)},o=[]},ff3f:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("v-uni-view",[n("v-uni-view",{staticClass:"wyb-popup-box",style:{transitionDuration:t.duration+"ms",opacity:t.contentOpacity||("center"===t.type?0:1),transform:t.contentTransform||t.autoTransform,zIndex:t.zIndex,borderTopRightRadius:"center"===t.type||"bottom"===t.type||"left"===t.type?t.radius+"px":0,borderTopLeftRadius:"center"===t.type||"bottom"===t.type||"right"===t.type?t.radius+"px":0,borderBottomRightRadius:"center"===t.type||"top"===t.type||"left"===t.type?t.radius+"px":0,borderBottomLeftRadius:"center"===t.type||"top"===t.type||"right"===t.type?t.radius+"px":0,width:t.autoWidth,height:t.autoHeight,minWidth:t.width+"rpx",minHeight:t.height+"rpx",top:t.sizeChange&&"center"===t.type?t.winReTop:t.autoTop,bottom:t.autoBottom,left:t.autoLeft,right:t.autoRight,backgroundColor:t.bgColor},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[t.showCloseIcon?n("v-uni-view",{staticClass:"wyb-popup-close",style:{width:t.closeIcon?t.closeIconSize+"rpx":"auto",height:t.closeIcon?t.closeIconSize+"rpx":"auto",top:"top-right"===t.closeIconPos||"top-left"===t.closeIconPos?t.vertOffset+"rpx":"auto",bottom:"bottom-right"===t.closeIconPos||"bottom-left"===t.closeIconPos?t.vertOffset+"rpx":"auto",left:"bottom-left"===t.closeIconPos||"top-left"===t.closeIconPos?t.horiOffset+"rpx":"auto",right:"bottom-right"===t.closeIconPos||"top-right"===t.closeIconPos?t.horiOffset+"rpx":"auto"}},[t.showCloseIcon&&t.closeIcon?n("v-uni-image",{staticClass:"wyb-popup-custom-close",style:{width:t.closeIconSize+"rpx",height:t.closeIconSize+"rpx"},attrs:{src:t.closeIcon},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)}}}):t._e(),t.showCloseIcon&&!t.closeIcon?n("v-uni-view",{staticClass:"iconfont icon-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)}}}):t._e()],1):t._e(),n("v-uni-scroll-view",{staticClass:"wyb-popup-container",style:{width:t.autoWidth,height:t.autoHeight},attrs:{"enable-flex":!0,"scroll-y":t.scrollY,"scroll-x":t.scrollX}},[n("v-uni-view",{staticClass:"wyb-popup-slot"},[t._t("default")],2)],1)],1),n("v-uni-view",{staticClass:"wyb-popup-mask",style:{opacity:t.maskOpacity,transitionDuration:t.duration+"ms",backgroundColor:"rgba(0, 0, 0, "+t.maskAlpha+")",zIndex:t.zIndex-1},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1):t._e()},o=[]}}]);