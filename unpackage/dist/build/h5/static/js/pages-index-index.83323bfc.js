(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{2909:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=r(i("6005")),a=r(i("db90")),o=r(i("06c5")),s=r(i("3427"));function r(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,n.default)(t)||(0,a.default)(t)||(0,o.default)(t)||(0,s.default)()}},3427:function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"35f1":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */.user-center[data-v-18331002]{display:flex;align-items:center}.user-center .avatar[data-v-18331002]{width:%?64?%;height:%?64?%;border-radius:50%}.user-center uni-text[data-v-18331002]{margin-left:%?20?%;font-size:%?24?%;color:#f5f5f5}.upAndDown[data-v-18331002]{display:flex;align-items:center;flex-direction:column;height:%?40?%;font-size:%?32?%}.tag[data-v-18331002]{border:%?1?% solid #434343;border-radius:%?40?%;padding:%?10?%;display:flex;align-items:center}.tag uni-image[data-v-18331002]{width:%?43?%;height:%?43?%;border-radius:50%}.tag uni-text[data-v-18331002]{margin-left:%?20?%;font-size:%?24?%;color:#f5f5f5}.search-bar[data-v-18331002]{font-size:%?24?%;display:flex;align-items:center}.list[data-v-18331002]{padding:%?20?% 0}.list-item[data-v-18331002]{border-radius:%?20?%;border:%?1?% solid #5f5f5f;border-radius:%?20?%;padding:%?16?% %?16?% %?20?% %?16?%;display:flex;align-items:flex-start;margin-bottom:%?16?%}.list-item-image[data-v-18331002]{width:%?240?%;height:%?240?%;border-radius:%?24?%;background-size:cover;background-position:50%;background-repeat:no-repeat}.list-item-image-box[data-v-18331002]{width:%?240?%;height:%?240?%;position:relative}.list-item-level[data-v-18331002]{position:absolute;top:0;left:0;width:%?84?%;height:%?40?%}.list-item-level uni-image[data-v-18331002]{width:100%;height:100%}.list-item-box[data-v-18331002]{display:flex;flex-direction:column;padding-left:%?20?%;flex:auto;color:#aeaeae}.list-item-title[data-v-18331002]{font-size:%?32?%;font-weight:500;text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;font-family:PingFang SC;font-style:normal;font-weight:500;font-size:%?32?%;line-height:%?44?%;color:#ececec}.list-item-time[data-v-18331002]{margin-top:%?16?%;height:%?34?%;font-size:%?24?%;text-align:left}.list-item-tag[data-v-18331002]{margin-top:%?4?%;font-size:%?24?%}.list-item-price[data-v-18331002]{font-size:%?28?%;color:#d10910;margin-top:auto}.list-item-price .count[data-v-18331002]{font-weight:600}.list-item-price-box[data-v-18331002]{display:flex;align-items:flex-end;justify-content:space-between;width:80%;margin-top:%?20?%}.list-item-price-dit[data-v-18331002]{font-size:%?28?%;line-height:%?40?%;color:#ac9147}.need-login[data-v-18331002]{position:fixed;bottom:%?80?%;left:%?20?%;right:%?20?%;background-color:#201a17;display:flex;align-items:center;justify-content:space-between;padding:0 %?40?%;border-radius:%?100?%;height:%?110?%;-webkit-animation:slide-in-bottom-data-v-18331002 .5s cubic-bezier(.25,.46,.45,.94) both;animation:slide-in-bottom-data-v-18331002 .5s cubic-bezier(.25,.46,.45,.94) both}.need-login uni-text[data-v-18331002]{font-size:%?32?%;line-height:%?44?%;color:#ececec}.need-login .to-login[data-v-18331002]{padding:0 %?60?%;height:%?80?%;line-height:%?80?%;font-size:%?32?%;color:#ececec;background:#d10910;border-radius:%?76?%}@-webkit-keyframes slide-in-bottom-data-v-18331002{0%{-webkit-transform:translateY(1000px);transform:translateY(1000px);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes slide-in-bottom-data-v-18331002{0%{-webkit-transform:translateY(1000px);transform:translateY(1000px);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}.logo[data-v-18331002]{width:%?154?%;height:%?48?%}',""]),t.exports=e},4728:function(t,e,i){"use strict";i.r(e);var n=i("c08c"),a=i("9000");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("bd05");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"18331002",null,!1,n["a"],s);e["default"]=l.exports},6005:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=a(i("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t))return(0,n.default)(t)}},"726e":function(t,e,i){var n=i("35f1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("c911a5f0",n,!0,{sourceMap:!1,shadowMode:!1})},9e3:function(t,e,i){"use strict";i.r(e);var n=i("a418"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a418:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909")),o=i("1a64"),s=i("173f"),r=(n(i("f4ec")),i("df47")),l={data:function(){return{loginFlag:!0,order:1,page:1,list:[],userInfo:{avatar:"",nick_name:""},timer:null}},onLoad:function(){this.getList()},filters:{filterStatus:function(t){var e={0:"未开售",1:"开售中",2:"已售罄"};return e[t]||"已售罄"}},methods:{filterTime1:function(t){var e=(0,r.getTimeData)(t);return"".concat(e.mon,"月").concat(e.dd,"日 ").concat(e.hh,":").concat(e.MM)},getList:function(){var t=this;(0,o.post)(s.h5_collections_index_list,{page:this.page,sort:this.order}).then((function(e){t.loginFlag=!!e.data.is_login,e.data.list?1===t.page?t.list=e.data.list:t.list=[].concat((0,a.default)(t.list),(0,a.default)(e.data.list)):t.page=t.page-1}))},handleClickUserCenter:function(){this.$store.state.user.token?uni.navigateTo({url:"/pages/mine/mine"}):this.handLogin()},handleChangeOrder:function(){this.order=1===this.order?2:1,this.getList()},handleCloseLogintag:function(){this.loginFlag=!0},handleScrollTolower:function(){var t=this;window.requestAnimationFrame&&"function"===typeof window.requestAnimationFrame?window.requestAnimationFrame((function(){t.page++,t.getList()})):setTimeout((function(){t.page++,t.getList()}),17)},handViewDetail:function(t){this.$store.state.user.token?uni.navigateTo({url:"/pages/preOrderDetails/preOrderDetails?product_item_id=".concat(t.product_item_id)}):this.handLogin()},handLogin:function(){(0,r.goLogin)()},handGoDownload:function(){return!1}},onShow:function(){var t=this;this.userInfo=JSON.parse(JSON.stringify(this.$store.state.user.userInfo)),uni.$on("updateData",(function(e){t.list=[],t.getList()}))}};e.default=l},bd05:function(t,e,i){"use strict";var n=i("726e"),a=i.n(n);a.a},c08c:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"container-header"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handGoDownload.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"logo",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/logo-line.png",mode:""}})],1),t.userInfo?i("v-uni-view",{staticClass:"user-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickUserCenter.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,mode:""}}),i("v-uni-text",[t._v(t._s(t.userInfo.nick_name||t.userInfo.phone))])],1):i("v-uni-view",{staticClass:"user-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickUserCenter.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"avatar",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/userNotLogin.png",mode:""}}),i("v-uni-text",[t._v("未登录")])],1)],1),i("v-uni-view",{staticClass:"container-body"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.list.length>2,expression:"list.length>2"}],staticClass:"search-bar",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChangeOrder.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"upAndDown"},[i("v-uni-text",{staticClass:"cuIcon-triangleupfill",style:(1===t.order?"color : #fff":"color : #343434")+";line-height: 22rpx;margin-top:2rpx"}),i("v-uni-text",{staticClass:"cuIcon-triangledownfill",style:(2===t.order?"color : #fff":"color : #343434")+";line-height: 22rpx;"})],1),t._v("按发行时间")],1),i("v-uni-scroll-view",{staticClass:"list",staticStyle:{height:"calc(100vh - 220rpx)"},attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.handleScrollTolower.apply(void 0,arguments)}}},t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handViewDetail(e)}}},[i("v-uni-view",{staticClass:"list-item-image-box"},[i("v-uni-view",{staticClass:"list-item-image",style:"background-image:url("+e.index_img+")"}),i("v-uni-view",{staticClass:"list-item-level"},["SSR"===e.rare_type?i("v-uni-image",{attrs:{src:"https://file.yuanyinfu.com/front-end-lib/SSR.png",mode:""}}):"UR"===e.rare_type?i("v-uni-image",{attrs:{src:"https://file.yuanyinfu.com/front-end-lib/UR.png",mode:""}}):"R"===e.rare_type?i("v-uni-image",{attrs:{src:"https://file.yuanyinfu.com/front-end-lib/R.png",mode:""}}):"N"===e.rare_type?i("v-uni-image",{attrs:{src:"https://file.yuanyinfu.com/front-end-lib/N.png",mode:""}}):"SR"===e.rare_type?i("v-uni-image",{attrs:{src:"https://file.yuanyinfu.com/front-end-lib/SR.png",mode:""}}):t._e()],1)],1),i("v-uni-view",{staticClass:"list-item-box"},[i("v-uni-view",{staticClass:"list-item-title"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"list-item-time"},[t._v(t._s(t.filterTime1(1e3*e.sale_time))+"开售")]),i("v-uni-view",{staticClass:"list-item-tag"},[t._v("限量"+t._s(e.stock_num_desc)+"张")]),i("v-uni-view",{staticClass:"list-item-price-box"},[i("v-uni-view",{staticClass:"list-item-price"},[t._v("￥"),i("v-uni-text",{staticClass:"count"},[t._v(t._s(e.sale_price))])],1)],1)],1),i("v-uni-view",{staticStyle:{"flex-shrink":"0"}},[2===e.is_halt?i("v-uni-view",{staticClass:"list-item-price-dit",staticStyle:{"font-weight":"500"}},[t._v("已停售")]):i("v-uni-view",{staticClass:"list-item-price-dit",staticStyle:{"font-weight":"500"}},[t._v(t._s(t._f("filterStatus")(e.sale_status)))])],1)],1)})),1)],1),t.loginFlag?t._e():i("v-uni-view",{staticClass:"container-bottom"},[i("v-uni-view",{staticClass:"need-login"},[i("v-uni-text",[t._v("元音符-原创音乐聚集地")]),i("v-uni-button",{staticClass:"to-login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handLogin()}}},[t._v("登录")]),i("v-uni-text",{staticClass:"cuIcon-close",staticStyle:{"font-size":"16rpx",color:"#686868"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCloseLogintag.apply(void 0,arguments)}}})],1)],1)],1)},o=[]},db90:function(t,e,i){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}}]);