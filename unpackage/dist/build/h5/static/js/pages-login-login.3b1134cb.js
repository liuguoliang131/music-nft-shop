(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"2c7d":function(e,t,n){var i=n("dedf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("1ae471a6",i,!0,{sourceMap:!1,shadowMode:!1})},"4edc":function(e,t,n){"use strict";var i=n("2c7d"),a=n.n(i);a.a},"5dc9":function(e,t,n){"use strict";n.r(t);var i=n("c8cf"),a=n("6249");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("4edc");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"fe04d088",null,!1,i["a"],void 0);t["default"]=s.exports},6249:function(e,t,n){"use strict";n.r(t);var i=n("7298"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},7298:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("c7eb")),o=i(n("1da1"));n("ac1f"),n("00b4");var r=i(n("d5cf")),s=n("173f"),c={components:{TfVerifyImg:r.default},data:function(){return{share_sign:"",next:"",id:"",origin:"",form:{phone:"",captcha:""},showVerify:!1,agree:!1,timer:null,countDown:0}},methods:{handleBack:function(){var e=getCurrentPages();1===e.length?uni.redirectTo({url:"/pages/index/index"}):uni.navigateBack({delta:1})},handView:function(e){uni.navigateTo({url:"/pages/userAgreement/userAgreement?url=".concat(e)})},handCheckboxChange:function(e){this.agree=!this.agree},handShowPopup:function(){if(!/^[1]{1}[0-9]{10}$/.test(this.form.phone))return uni.showToast({title:"手机号码不符合规则",icon:"none"});this.showVerify=!0},verifySuccess:function(){this.showVerify=!1,this.handGetCaptcha()},handGetCaptcha:function(){var e=this;return(0,o.default)((0,a.default)().mark((function t(){var n;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$post(s.h5_base_captcha,{phone:e.form.phone,use_type:6});case 2:if(n=t.sent,0===n.code){t.next=6;break}return t.abrupt("return",uni.showToast({title:n.msg,icon:"none"}));case 6:uni.showToast({title:"已发送",icon:"success"}),e.countDown=60,e.timer=setInterval((function(){1===e.countDown&&(clearInterval(e.timer),e.timer=null),e.countDown--}),1e3);case 9:case"end":return t.stop()}}),t)})))()},handValid:function(){return this.agree?/^[1]{1}[0-9]{10}$/.test(this.form.phone)?/^[0-9]{6}$/.test(this.form.captcha)?void this.login():uni.showToast({title:"验证码不符合规则",icon:"none"}):uni.showToast({title:"手机号码不符合规则",icon:"none"}):uni.showToast({title:"请勾选同意用户协议和隐私政策",icon:"none"})},login:function(){var e=this;return(0,o.default)((0,a.default)().mark((function t(){var n,i,o;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={phone:e.form.phone,captcha:e.form.captcha},e.share_sign&&(n.share_sign=e.share_sign),t.next=5,e.$post(s.h5_base_login,n);case 5:if(i=t.sent,0===i.code){t.next=9;break}return t.abrupt("return",uni.showToast({icon:"none",title:i.msg}));case 9:return e.$store.commit("user/set_token",i.data.token),t.next=12,e.$get(s.h5_user_info);case 12:if(o=t.sent,0===o.code){t.next=15;break}return t.abrupt("return",uni.showToast({title:o.msg,icon:"none"}));case 15:e.$store.commit("user/set_userInfo",o.data),uni.showToast({icon:"success",title:"登录成功"}),e.nextGoWhere(),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](0),uni.showToast({icon:"none",title:t.t0.message});case 24:case"end":return t.stop()}}),t,null,[[0,20]])})))()},nextGoWhere:function(){if("invitationToRegister"===this.origin){if(!this.next)return uni.reLaunch({url:"/pages/index/index"});"goldSinglesDetail"===this.next?uni.reLaunch({url:"/pages/goldSinglesDetail/goldSinglesDetail?product_item_id="+this.id}):"preOrderDetails"===this.next?uni.reLaunch({url:"/pages/preOrderDetails/preOrderDetails?product_item_id="+this.id}):"recommendedAlbumDetail"===this.next?uni.reLaunch({url:"/pages/recommendedAlbumDetail/recommendedAlbumDetail?product_item_id="+this.id}):"copyrightDetail"===this.next?uni.reLaunch({url:"/pages/copyrightDetail/copyrightDetail?music_info_id="+this.id}):"demoAssistance"===this.next?uni.reLaunch({url:"/pages/demoAssistance/demoAssistance?origin=login&demo_item_id="+this.id}):uni.reLaunch({url:"/pages/index/index"})}else getCurrentPages().length>1?(uni.$emit("updateData",null),uni.navigateBack({delta:1})):uni.redirectTo({url:"/pages/index/index"})}},onLoad:function(e){var t=window.sessionStorage.getItem("afterBackQuery");if(t){var n=JSON.parse(t),i=n.query;i.share_sign&&(this.share_sign=decodeURIComponent(i.share_sign))}e.share_sign&&(this.share_sign=decodeURIComponent(e.share_sign)),this.next=e.next||"",this.id=e.id||"",this.origin=e.origin||""}};t.default=c},c8cf:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={tfVerifyImg:n("d5cf").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"h88"}),n("v-uni-view",{staticClass:"header"},[n("v-uni-image",{staticClass:"head-img",attrs:{src:"https://file.yuanyinfu.com/front-end-lib/logo.png",alt:""}})],1),n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"form"},[n("v-uni-view",{staticClass:"form-item phone"},[n("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",type:"number",placeholder:"请输入手机号码","placeholder-style":"color: #363636;"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),n("v-uni-view",{staticClass:"form-item captcha"},[n("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"6",type:"number",placeholder:"请输入验证码","placeholder-style":"color: #363636;"},model:{value:e.form.captcha,callback:function(t){e.$set(e.form,"captcha",t)},expression:"form.captcha"}}),e.timer?n("v-uni-view",{staticClass:"getcaptcha"},[e._v(e._s(e.countDown))]):n("v-uni-view",{staticClass:"getcaptcha",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handShowPopup.apply(void 0,arguments)}}},[e._v("获取验证码")])],1),n("v-uni-view",{staticClass:"agree"},[n("v-uni-checkbox-group",{attrs:{name:"agree"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handCheckboxChange(t)}}},[n("v-uni-checkbox",{staticClass:"checkbox",attrs:{value:!0}})],1),n("v-uni-text",{staticClass:"agree-label"},[e._v("登录即代表您已同意"),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handView("https://h5.shenglangnft.com/base/agreement")}}},[e._v("《用户协议》")]),e._v("和"),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handView("https://h5.shenglangnft.com/base/privacy_policy")}}},[e._v("《隐私政策》")])],1)],1),n("v-uni-view",{staticClass:"sub"},[n("v-uni-view",{staticClass:"submit",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handValid()}}},[e._v("登录")])],1)],1)],1),n("v-uni-view",{staticClass:"footer"},[e._v("COPYRIGHT © 2022 HANHOU")]),e.showVerify?n("tf-verify-img",{on:{succeed:function(t){arguments[0]=t=e.$handleEvent(t),e.verifySuccess.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.showVerify=!1}}}):e._e()],1)},o=[]},dedf:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */.container .h88[data-v-fe04d088]{height:%?88?%}.container .header[data-v-fe04d088]{display:flex;align-items:center;justify-content:center;width:100%;padding-top:%?151?%}.container .header .head-img[data-v-fe04d088]{width:%?200?%;height:%?267?%}.container .main[data-v-fe04d088]{display:flex;justify-content:center;width:100%;padding-top:%?50?%}.container .main .form[data-v-fe04d088]{width:%?600?%;padding-top:%?200?%}.container .main .form .form-item[data-v-fe04d088]{display:flex;align-items:center;justify-content:center;width:100%}.container .main .form .form-item .uni-input[data-v-fe04d088]{box-sizing:border-box;width:%?650?%;height:%?90?%;padding:0 %?10?%;border:none;outline:none;background:transparent;border-bottom:.5px solid #363636;font-weight:400;font-size:%?28?%;color:#ececec;font-size:%?28?%}.container .main .form .form-item .uni-input[data-v-fe04d088]:hover{border-bottom:.5px solid #ececec}.container .main .form .captcha[data-v-fe04d088]{position:relative}.container .main .form .captcha .getcaptcha[data-v-fe04d088]{position:absolute;top:50%;right:%?10?%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#d10910;font-size:%?28?%}.container .main .form .captcha .getcaptcha[data-v-fe04d088]:active{color:rgba(209,9,16,.6)}.container .main .form .agree[data-v-fe04d088]{display:flex;color:#fff;font-size:%?28?%;padding-top:%?26?%;padding-bottom:%?100?%}.container .main .form .agree .checkbox[data-v-fe04d088]{margin-right:%?24?%;margin-left:%?10?%}.container .main .form .agree .checkbox[data-v-fe04d088] .uni-checkbox-input{width:%?24?%;height:%?24?%;border:.5px solid #868686;border-radius:%?6?%;background-color:initial}.container .main .form .agree .checkbox[data-v-fe04d088] .uni-checkbox-input::before{font-size:%?24?%}.container .main .form .agree .agree-label[data-v-fe04d088]{font-size:%?22?%;line-height:%?48?%;color:#666}.container .main .form .agree .agree-label uni-text[data-v-fe04d088]{color:#ac9147}.container .sub[data-v-fe04d088]{width:100%;display:flex;align-items:center;justify-content:center}.container .sub .submit[data-v-fe04d088]{display:flex;align-items:center;justify-content:center;width:%?650?%;height:%?96?%;background:#d10910;border-radius:%?48?%;font-weight:500;font-size:%?32?%;color:#ececec}.container .sub .submit[data-v-fe04d088]:active{background-color:rgba(209,9,16,.6);color:#868686}.container .footer[data-v-fe04d088]{padding-top:%?64?%;font-family:Avenir;font-style:normal;font-weight:400;font-size:%?22?%;text-align:center;color:#868686}.container[data-v-fe04d088] .icon-close{font-size:%?36?%}.container[data-v-fe04d088] .wyb-popup-box{z-index:998!important}.container[data-v-fe04d088] .wyb-popup-mask{z-index:997!important}',""]),e.exports=t}}]);